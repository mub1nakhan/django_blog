<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Post Yaratish</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
    --primary:#4f46e5;
    --primary-dark:#4338ca;
    --success:#16a34a;
    --warning:#f59e0b;
    --danger:#dc2626;
    --light:#f8fafc;
    --glass:rgba(255,255,255,0.75);
}

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#4f46e5,#9333ea);
    min-height:100vh;
    padding:40px 20px;
}

.container{
    max-width:900px;
    margin:auto;
}

h1{
    text-align:center;
    color:white;
    margin-bottom:40px;
    font-weight:700;
    letter-spacing:1px;
}

/* Glass Card */
.card{
    background:var(--glass);
    backdrop-filter:blur(15px);
    border-radius:15px;
    padding:30px;
    box-shadow:0 8px 25px rgba(0,0,0,0.15);
    margin-bottom:40px;
    transition:0.3s;
}

.card:hover{
    transform:translateY(-5px);
}

/* Form */
.form-group{
    margin-bottom:20px;
}

label{
    font-weight:600;
    display:block;
    margin-bottom:6px;
    color:#333;
}

input,textarea,select{
    width:100%;
    padding:12px;
    border-radius:8px;
    border:1px solid #ddd;
    font-size:14px;
    transition:0.3s;
}

input:focus,
textarea:focus,
select:focus{
    border-color:var(--primary);
    outline:none;
    box-shadow:0 0 0 3px rgba(79,70,229,0.2);
}

button{
    background:var(--primary);
    color:white;
    padding:12px 30px;
    border:none;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:var(--primary-dark);
    transform:scale(1.05);
}

/* Alerts */
.alert{
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
    font-weight:500;
}

.alert-success{
    background:#dcfce7;
    color:#166534;
}

.alert-error{
    background:#fee2e2;
    color:#991b1b;
}

/* Posts */
.posts-title{
    color:white;
    margin-bottom:20px;
}

.post{
    background:white;
    padding:20px;
    border-radius:12px;
    margin-bottom:20px;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
    transition:0.3s;
}

.post:hover{
    transform:translateY(-3px);
}

.post-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
    margin-bottom:10px;
}

.author{
    font-weight:600;
    color:var(--primary);
}

.badge{
    padding:4px 10px;
    border-radius:20px;
    font-size:12px;
    margin-left:8px;
}

.category{
    background:#eef2ff;
    color:var(--primary);
}

.status-draft{
    background:#fef3c7;
    color:#92400e;
}

.status-published{
    background:#dcfce7;
    color:#166534;
}

.post-body{
    margin-top:10px;
    line-height:1.6;
    color:#444;
}

.post-date{
    font-size:12px;
    color:#999;
    margin-top:10px;
}

/* Empty */
.empty{
    text-align:center;
    padding:30px;
    background:white;
    border-radius:12px;
    color:#666;
}

/* Responsive */
@media(max-width:600px){
    .post-header{
        flex-direction:column;
        align-items:flex-start;
    }
}
</style>
</head>

<body>

<div class="container">

<h1>‚ú® Yangi Post Yaratish</h1>

{% if messages %}
<div class="card">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<!-- FORM -->
<div class="card">
<form method="post">
{% csrf_token %}

<div class="form-group">
<label>Foydalanuvchi ismi</label>
<input type="text" name="author" required>
</div>

<div class="form-group">
<label>Kategoriya</label>
<select name="category" id="">
    {% for category in categories %}
    <option value="{{category.id}}">{{category.name}}</option>
    {% endfor %}
</select>
</div>

<div class="form-group">
<label>Post matni</label>
<input type="text" name="body">
</div>

<div class="form-group">
<label>Status</label>
<select name="status" id="">

    <option value="draft">Qoralama</option>
    <option value="public">Ommaviy</option>

</select>
</div>

<button type="submit">üöÄ Post joylash</button>

</form>
</div>

<!-- POSTS -->
<h2 class="posts-title">üìå Barcha Postlar</h2>

{% if posts %}
{% for post in posts %}
<div class="post">
<div class="post-header">
<div>
<span class="author">{{ post.author|default:"Anonim" }}</span>
<span class="badge category">{{ post.category.title }}</span>

{% if post.status == "public" %}
<span class="badge status-published">Published</span>
{% else %}
<span class="badge status-draft">Draft</span>
{% endif %}

</div>

<div class="post-date">
{{ post.created_at|date:"d.m.Y H:i" }}
</div>
</div>

<div class="post-body">
{{ post.body }}
</div>

</div>
{% endfor %}
{% else %}
<div class="empty">
Hozircha postlar yo‚Äòq. Birinchi postni siz yozing ‚úçÔ∏è
</div>
{% endif %}

</div>

</body>
</html>
